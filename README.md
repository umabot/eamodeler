# EAModeler

A Python toolkit for creating tools and utilities for Enterprise Architect.

## Overview

EAModeler provides a set of Python tools and utilities for working with Enterprise Architect models, automating tasks, and extending EA functionality.

## Setup

This project uses [uv](https://docs.astral.sh/uv/) for package management with a virtual environment at `~/development/uv/eamodeler`.

### Prerequisites

- Python 3.12+
- uv package manager

### Quick Setup (Recommended)

The easiest way to set up the environment is to use the provided setup script:

```bash
./setup-env.sh
```

This script will:

- Create the virtual environment at the correct location if it doesn't exist
- Install all project dependencies
- Install development dependencies
- Verify the installation
- Provide usage instructions

### Manual Setup

If you prefer to set up manually:

1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd eamodeler
   ```

2. Create the virtual environment:
   ```bash
   uv venv --python 3.12 ~/development/uv/eamodeler
   ```

3. Install the project and dependencies:
   ```bash
   VIRTUAL_ENV=~/development/uv/eamodeler uv pip install -e .
   VIRTUAL_ENV=~/development/uv/eamodeler uv pip install -e ".[dev]"
   ```

4. Activate the environment:
   ```bash
   source ~/development/uv/eamodeler/bin/activate
   ```

### Using the Environment

Once set up, you can use the environment in several ways:

1. With the environment activated:
   ```bash
   source ~/development/uv/eamodeler/bin/activate
   python generate_interface_docs.py ...
   ```

2. Using the run.sh helper script (recommended):
   ```bash
   ./run.sh python generate_interface_docs.py ...
   ```

3. Using the direct path:
   ```bash
   ~/development/uv/eamodeler/bin/python generate_interface_docs.py ...
   ```

4. Using the CLI via the helper script:
   ```bash
   ./run.sh eamodeler generate-docs ...
   ```

## Project Structure

```
eamodeler/
├── src/
│   └── eamodeler/
│       ├── __init__.py
│       ├── core/
│       ├── models/
│       ├── utils/
│       └── cli/
├── tests/
├── docs/
├── input/               # Input files for processing
├── output/              # Generated output files
├── pyproject.toml
└── README.md
```

## Input/Output Directories

### input/
Place your source files in the `input/` directory for processing by EAModeler tools:
- CSV files - Data tables and model information
- Excel files (.xlsx, .xls) - Spreadsheet data for model generation
- JSON files - Structured data and configuration files
- PDF files - Documentation and diagrams to extract information from
- Markdown files (.md) - Documentation and text-based model descriptions

### output/
The `output/` directory contains files generated by EAModeler tools:
- PDF files - Generated reports, diagrams, and documentation
- CSV files - Exported data tables and model information
- JSON files - Structured output data and configuration files
- Markdown files (.md) - Generated documentation and reports

## Development

- `src/eamodeler/core/`: Core functionality for EA model manipulation
- `src/eamodeler/models/`: Data models and classes
- `src/eamodeler/utils/`: Utility functions and helpers
- `src/eamodeler/cli/`: Command-line interface tools
- `tests/`: Test suite
- `docs/`: Documentation

## Usage

### Interface Documentation Generator

Generate interface documentation from CSV data with Mermaid diagrams:

```bash
# Method 1: Using the run.sh helper script (recommended)
./run.sh python generate_interface_docs.py "input/data.csv" "APP-NAME" "target" "COUNTRY"
./run.sh python generate_interface_docs.py "input/data.csv" "APP-NAME" "target"  # All countries

# Method 2: Using the CLI with run.sh helper
./run.sh eamodeler generate-docs "input/data.csv" "APP-NAME" "target" "COUNTRY"
./run.sh eamodeler generate-docs "input/data.csv" "APP-NAME" "target"  # All countries

# Method 3: With activated environment
source ~/development/uv/eamodeler/bin/activate
python generate_interface_docs.py "input/data.csv" "APP-NAME" "target" "COUNTRY"
```

Features:

- Generates Mermaid.js flow diagrams
- Creates detailed interface tables with descriptions
- Supports both source and target analysis
- Handles various CSV encodings
- Interactive filename selection
- Optional country-based filtering with validation
- Enhanced output with country-specific statistics
- Connected applications summary table
- Interface short descriptions included

## Contributing

[Add contributing guidelines here]

## License

[Add license information here]
